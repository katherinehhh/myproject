<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>计算器</title>
	<!-- 样式 -->
	<style>
    .container{
        top: 50%;
        left: 50%;
        position: absolute;
       margin-left: -140px;
       margin-top:-80px;
    }
	.container table{
      width: 280px;
	}
	.container input{
		width:60px;
	}
	.container #inp1{
        width: 275px;
		text-align: right;
	}
	</style>
</head>
<body>


	<!--计算器界面  -->
	<div class="container">
	<table border="1px">
	<!-- 第一行 -->
		<tr>
		     <td colspan="4"><input type="text" id="inp1"></td>
			
		</tr>
		<!--第二行  -->
		<tr>
		<td><input type="button" value="clear" onclick="cbpEvent(this)"></td>
		<td><input type="button" value="back" onclick="cbpEvent(this)"></td>
		<td colspan="2"><input type="button"value="power"onclick="cbpEvent(this)"></td>
		</tr>
		<!-- 第三行 -->
		<tr>
		<td><input type="button" value="1" onclick="numberEvent(this)" ></td>
		<td><input type="button" value="2" onclick="numberEvent(this)" ></td>
		<td><input type="button" value="3" onclick="numberEvent(this)"></td>
		<td><input type="button" value="4" onclick="numberEvent(this)"></td>
       </tr>
       <!-- 第四行 -->
       <tr>
		<td><input type="button" value="5" onclick="numberEvent(this)" ></td>
		<td><input type="button" value="6" onclick="numberEvent(this)"></td>
		<td><input type="button" value="7" onclick="numberEvent(this)"></td>
		<td><input type="button" value="8" onclick="numberEvent(this)"></td>
       </tr>
       <!-- 第五行 -->
       <tr>
		<td><input type="button" value="9" onclick="numberEvent(this)"></td>
		<td><input type="button" value="0" onclick="numberEvent(this)"></td>
		<td><input type="button" value="." onclick="numberEvent(this)"></td>
		<td><input type="button" value="=" onclick="resultEvent(this)"></td>
       </tr>
       <!-- 第六行 -->
       <tr>
		<td><input type="button" value="+" onclick="operEvent(this)"></td>
		<td><input type="button" value="-" onclick="operEvent(this)"></td>
		<td><input type="button" value="*" onclick="operEvent(this)"></td>
		<td><input type="button" value="/" onclick="operEvent(this)"></td>
       </tr>
	</table>
	</div>
	<script>
		//创建对象
    var calculator = new Calculator();
    /*定义全局变量*/
    var val = 0; //放置输入的值
    var xval = 0; //保存转换Number类型的值
    var temp = 0; //保存第一次输入的值    
    var oper = ""; //保存输入的操作符
    /*获取输入数字*/
    function numberEvent(e){
    	val=e.value;
    	var sval=document.getElementById('inp1');
    	sval.value += val;
    	xval=parseFloat(sval.value);
    	}
    	/*获取操作符*/ 
    	function operEvent(e){
    		oper= e.value;
    		if(oper=='+'){
    			var sval=document.getElementById('inp1');
    			temp = parseFloat(sval.value);
                sval.value='';  

    		}else if(oper=='-'){
                	var sval=document.getElementById('inp1');
    			temp=parseFloat(sval.value);
                sval.value=''; 
    		}else if(oper=='*')
    		{
    				var sval=document.getElementById('inp1');
    			temp=parseFloat(sval.value);
                sval.value=''; 
    		}else if(oper=='/'){
    				var sval=document.getElementById('inp1');
    			temp=parseFloat(sval.value);
                sval.value=''; 
    		}
    	}
        /*清除 乘方 退格*/
        function cbpEvent(e){
           var sval=document.getElementById('inp1');
           if(e.value=="clear"){
            sval.value="";
           }else if(e.value=="power")
           {
            sval.value=Math.pow(sval.value,2);
           }
        } 
    	function resultEvent(e){
    		var sval=document.getElementById('inp1');
    		 if (e.value == "=") {
            //window.alert(xval);
            //调用对象方法
            sval.value = calculator.jisuan(temp, xval, oper);
        }

    	}
    	function Calculator(){
    		this.jisuan =function(num1, num2 ,oper){
    			var res=0;
    			switch(oper){
    				case "+":
    				res=num1+num2;
    				break;
    				case "-":
    				res=num1-num2;
    				break;
                    case "*":
                    res=num1*num2;
                    break;
                    case "/":
                    res=num1/num2;
                    break;
    			}
                return res;
            }
    			
    		}
    
	</script>
</body>
</html>